<view class="container">
  <!-- å½“å‰é€‰æ‹©çš„è´§å¸ä¿¡æ¯ -->
  <view class="card">
    <view class="card-header">
      {{selectedCurrency.flag}} {{selectedCurrency.name}} æ¢æ±‡åˆ†æ
    </view>
    <view class="card-body">
      <view class="currency-overview">
        <view class="rate-summary">
          <view class="current-rate">
            <text class="rate-label">å½“å‰æ±‡ç‡</text>
            <text class="rate-value">{{currentRate}}</text>
          </view>
          <view class="rate-change {{changeStatus}}">
            <text class="change-icon">{{changeIcon}}</text>
            <text class="change-text">{{rateChange}}</text>
          </view>
        </view>
        
        <view class="rate-chart">
          <text class="chart-title">7æ—¥æ±‡ç‡èµ°åŠ¿</text>
          <view class="chart-container">
            <view class="chart-line" wx:for="{{chartData}}" wx:key="index">
              <view class="chart-point" style="height: {{item.height}}%; background: {{item.color}};"></view>
              <text class="chart-label">{{item.label}}</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- AIæ™ºèƒ½åˆ†æ -->
  <view class="card">
    <view class="card-header">
      ğŸ¤– AIæ™ºèƒ½åˆ†æ
    </view>
    <view class="card-body">
      <view class="analysis-section">
        <view class="analysis-item">
          <text class="analysis-title">ğŸ“Š è¶‹åŠ¿åˆ†æ</text>
          <text class="analysis-content">{{analysis.trend}}</text>
        </view>
        
        <view class="analysis-item">
          <text class="analysis-title">ğŸ“ˆ æŠ€æœ¯æŒ‡æ ‡</text>
          <text class="analysis-content">{{analysis.technical}}</text>
        </view>
        
        <view class="analysis-item">
          <text class="analysis-title">ğŸŒ åŸºæœ¬é¢åˆ†æ</text>
          <text class="analysis-content">{{analysis.fundamental}}</text>
        </view>
        
        <view class="analysis-item">
          <text class="analysis-title">âš ï¸ é£é™©æç¤º</text>
          <text class="analysis-content">{{analysis.risk}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æ¢æ±‡å»ºè®® -->
  <view class="card">
    <view class="card-header">
      ğŸ’¡ æ¢æ±‡å»ºè®®
    </view>
    <view class="card-body">
      <view class="advice-timeline">
        <view class="timeline-item {{item.status}}" wx:for="{{timeline}}" wx:key="index">
          <view class="timeline-dot"></view>
          <view class="timeline-content">
            <text class="timeline-title">{{item.title}}</text>
            <text class="timeline-desc">{{item.description}}</text>
            <text class="timeline-rate">å»ºè®®æ±‡ç‡: {{item.suggestedRate}}</text>
          </view>
        </view>
      </view>
      
      <view class="action-buttons">
        <button class="btn" bindtap="setTargetRate">
          è®¾ç½®ç›®æ ‡æ±‡ç‡
        </button>
        <button class="btn btn-secondary" bindtap="shareAnalysis">
          åˆ†äº«åˆ†æ
        </button>
      </view>
    </view>
  </view>

  <!-- æ¢æ±‡æ–¹å¼æ¨è -->
  <view class="card">
    <view class="card-header">
      ğŸ¦ æ¢æ±‡æ–¹å¼æ¨è
    </view>
    <view class="card-body">
      <view class="exchange-methods">
        <view class="method-item {{item.recommended ? 'recommended' : ''}}" wx:for="{{exchangeMethods}}" wx:key="index">
          <view class="method-header">
            <text class="method-icon">{{item.icon}}</text>
            <text class="method-name">{{item.name}}</text>
            <text class="recommended-badge" wx:if="{{item.recommended}}">æ¨è</text>
          </view>
          <view class="method-details">
            <view class="method-rate">
              <text class="rate-label">æ±‡ç‡:</text>
              <text class="rate-value">{{item.rate}}</text>
            </view>
            <view class="method-fee">
              <text class="fee-label">æ‰‹ç»­è´¹:</text>
              <text class="fee-value">{{item.fee}}</text>
            </view>
            <view class="method-time">
              <text class="time-label">åˆ°è´¦æ—¶é—´:</text>
              <text class="time-value">{{item.arrivalTime}}</text>
            </view>
          </view>
          <view class="method-pros">
            <text class="pros-title">ä¼˜åŠ¿:</text>
            <text class="pros-content">{{item.advantages}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- æé†’è®¾ç½® -->
  <view class="card">
    <view class="card-header">
      ğŸ”” æ™ºèƒ½æé†’
    </view>
    <view class="card-body">
      <view class="reminder-settings">
        <view class="setting-item">
          <text class="setting-label">æ±‡ç‡æé†’</text>
          <switch class="setting-switch" checked="{{reminderSettings.rateAlert}}" bindchange="onRateAlertChange"/>
        </view>
        <view class="setting-item">
          <text class="setting-label">æ¯æ—¥åˆ†æ</text>
          <switch class="setting-switch" checked="{{reminderSettings.dailyAnalysis}}" bindchange="onDailyAnalysisChange"/>
        </view>
        <view class="setting-item">
          <text class="setting-label">é‡è¦äº‹ä»¶</text>
          <switch class="setting-switch" checked="{{reminderSettings.eventAlert}}" bindchange="onEventAlertChange"/>
        </view>
      </view>
      
      <view class="target-rate-setting" wx:if="{{reminderSettings.rateAlert}}">
        <text class="target-label">ç›®æ ‡æ±‡ç‡:</text>
        <input class="target-input" type="digit" value="{{targetRate}}" bindinput="onTargetRateInput" placeholder="è®¾ç½®ç›®æ ‡æ±‡ç‡"/>
        <button class="btn btn-small" bindtap="saveTargetRate">ä¿å­˜</button>
      </view>
    </view>
  </view>
</view> 