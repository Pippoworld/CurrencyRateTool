<view class="container">
  <!-- å½“å‰é€‰æ‹©çš„è´§å¸ä¿¡æ¯ -->
  <view class="card">
    <view class="card-header">
      {{selectedCurrency.flag}} {{selectedCurrency.name}} æ¢æ±‡åˆ†æ
    </view>
    <view class="card-body">
      <view class="currency-overview">
        <view class="rate-summary">
          <view class="current-rate">
            <text class="rate-label">å½“å‰æ±‡ç‡</text>
            <text class="rate-value">{{currentRate}}</text>
          </view>
          <view class="rate-change {{changeStatus}}">
            <text class="change-icon">{{changeIcon}}</text>
            <text class="change-text">{{rateChange}}</text>
          </view>
        </view>
        
        <view class="rate-chart">
          <text class="chart-title">7æ—¥æ±‡ç‡èµ°åŠ¿</text>
          <view class="chart-container">
            <view class="chart-line" wx:for="{{chartData}}" wx:key="index">
              <view class="chart-point" style="height: {{item.height}}%; background: {{item.color}};"></view>
              <text class="chart-label">{{item.label}}</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- AIæ™ºèƒ½åˆ†æ -->
  <view class="card">
    <view class="card-header">
      ğŸ¤– AIæ™ºèƒ½åˆ†æ
    </view>
    <view class="card-body">
      <view class="analysis-section">
        <view class="analysis-item">
          <text class="analysis-title">ğŸ“Š è¶‹åŠ¿åˆ†æ</text>
          <text class="analysis-content">{{analysis.trend}}</text>
        </view>
        
        <view class="analysis-item">
          <text class="analysis-title">ğŸ“ˆ æŠ€æœ¯æŒ‡æ ‡</text>
          <text class="analysis-content">{{analysis.technical}}</text>
        </view>
        
        <view class="analysis-item">
          <text class="analysis-title">ğŸŒ åŸºæœ¬é¢åˆ†æ</text>
          <text class="analysis-content">{{analysis.fundamental}}</text>
        </view>
        
        <view class="analysis-item">
          <text class="analysis-title">âš ï¸ é£é™©æç¤º</text>
          <text class="analysis-content">{{analysis.risk}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æ¢æ±‡å»ºè®® -->
  <view class="card">
    <view class="card-header">
      ğŸ’¡ æ¢æ±‡å»ºè®®
    </view>
    <view class="card-body">
      <view class="advice-timeline">
        <view class="timeline-item {{item.status}}" wx:for="{{timeline}}" wx:key="index">
          <view class="timeline-dot"></view>
          <view class="timeline-content">
            <text class="timeline-title">{{item.title}}</text>
            <text class="timeline-desc">{{item.description}}</text>
            <text class="timeline-rate">å»ºè®®æ±‡ç‡: {{item.suggestedRate}}</text>
          </view>
        </view>
      </view>
      
      <view class="action-buttons">
        <button class="btn" bindtap="goToRateDetail">
          æ±‡ç‡ç›‘æ§è®¾ç½®
        </button>
        <button class="btn btn-secondary" bindtap="shareAnalysis">
          åˆ†äº«åˆ†æ
        </button>
        <button class="btn btn-secondary" bindtap="refreshAIContent">
          ğŸ¤– åˆ·æ–°AIåˆ†æ
        </button>
        <button class="btn btn-debug" bindtap="showDebugInfo">
          ğŸ› ï¸ è°ƒè¯•ä¿¡æ¯
        </button>
      </view>
    </view>
  </view>

  <!-- æ¢æ±‡æ–¹å¼æ¨è -->
  <view class="card">
    <view class="card-header">
      ğŸ¦ æ¢æ±‡æ–¹å¼æ¨è
    </view>
    <view class="card-body">
      <view class="exchange-methods">
        <view class="method-item {{item.recommended ? 'recommended' : ''}}" wx:for="{{exchangeMethods}}" wx:key="index">
          <view class="method-header">
            <text class="method-icon">{{item.icon}}</text>
            <text class="method-name">{{item.name}}</text>
            <text class="recommended-badge" wx:if="{{item.recommended}}">æ¨è</text>
          </view>
          <view class="method-details">
            <view class="method-rate">
              <text class="rate-label">æ±‡ç‡:</text>
              <text class="rate-value">{{item.rate}}</text>
            </view>
            <view class="method-fee">
              <text class="fee-label">æ‰‹ç»­è´¹:</text>
              <text class="fee-value">{{item.fee}}</text>
            </view>
            <view class="method-time">
              <text class="time-label">åˆ°è´¦æ—¶é—´:</text>
              <text class="time-value">{{item.arrivalTime}}</text>
            </view>
          </view>
          <view class="method-pros">
            <text class="pros-title">ä¼˜åŠ¿:</text>
            <text class="pros-content">{{item.advantages}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- å¸‚åœºèµ„è®¯ -->
  <view class="card">
    <view class="card-header">
      ğŸ“° å¸‚åœºèµ„è®¯
    </view>
    <view class="card-body">
      <view class="news-section">
        <view class="news-item" wx:for="{{marketNews}}" wx:key="index" bindtap="openNewsDetail" data-url="{{item.url}}">
          <view class="news-content">
            <text class="news-title">{{item.title}}</text>
            <text class="news-summary">{{item.summary}}</text>
            <view class="news-meta">
              <text class="news-source">{{item.source}}</text>
              <text class="news-time">{{item.time}}</text>
              <text class="news-impact {{item.impactLevel}}">{{item.impact}}</text>
            </view>
          </view>
          <text class="news-arrow">â€º</text>
        </view>
      </view>
    </view>
  </view>
</view> 