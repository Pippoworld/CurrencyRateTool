<view class="container">
  <!-- å½“å‰æ±‡ç‡æ˜¾ç¤º -->
  <view class="rate-display">
    <view class="rate-pair">
      <text class="currency-info">{{currencies[fromCurrencyIndex].flag}} {{currencies[fromCurrencyIndex].name}}</text>
      <text class="rate-arrow">â†’</text>
      <text class="currency-info">{{currencies[toCurrencyIndex].flag}} {{currencies[toCurrencyIndex].name}}</text>
    </view>
    <text class="current-rate">{{currentRate}}</text>
    <text class="rate-change">{{rateChange}}</text>
    <text class="update-time">æ›´æ–°æ—¶é—´ï¼š{{updateTime}}</text>
  </view>

  <!-- AI ä¸“ä¸šæŠ€æœ¯åˆ†æ -->
  <view class="ai-analysis">
    <view class="section-header">
      <view class="header-icon">ğŸ“ˆ</view>
      <view class="header-content">
        <text class="section-title">ä¸“ä¸šæŠ€æœ¯åˆ†æ</text>
        <text class="section-desc">åŸºäºå¤šé¡¹æŠ€æœ¯æŒ‡æ ‡çš„æ·±åº¦å¸‚åœºåˆ†æ</text>
      </view>
    </view>
    
    <view class="analysis-content">
      <view class="analysis-status">
        <view class="status-indicator {{advice.status}}"></view>
        <text class="status-text">{{advice.title}}</text>
        <view class="confidence-score">
          <text class="confidence-label">å¯ä¿¡åº¦</text>
          <text class="confidence-value">{{advice.confidence}}%</text>
        </view>
      </view>
      
      <text class="analysis-summary">{{advice.summary}}</text>
      
      <view class="analysis-factors">
        <text class="factors-title">åˆ†æè¦ç‚¹ï¼š</text>
        <view class="factor-item" wx:for="{{advice.factors}}" wx:key="index">
          <text class="factor-icon">â€¢</text>
          <text class="factor-text">{{item}}</text>
        </view>
      </view>
      
      <view class="analysis-suggestion">
        <text class="suggestion-title">å»ºè®®æ“ä½œï¼š</text>
        <text class="suggestion-text">{{advice.suggestion}}</text>
      </view>
    </view>
  </view>

  <!-- ç›®æ ‡æ±‡ç‡è®¾ç½® -->
  <view class="target-rate-section">
    <view class="section-header">
      <view class="header-icon">ğŸ¯</view>
      <view class="header-content">
        <text class="section-title">ç›®æ ‡æ±‡ç‡è®¾ç½®</text>
        <text class="section-desc">è®¾ç½®ç†æƒ³æ±‡ç‡ï¼Œåˆ°è¾¾æ—¶è‡ªåŠ¨æé†’</text>
      </view>
    </view>
    
    <view class="target-inputs">
      <view class="input-row">
        <text class="input-label">ä¹°å…¥ç›®æ ‡</text>
        <input 
          class="target-input" 
          type="digit" 
          value="{{targetBuyRate}}" 
          bindinput="onTargetBuyInput"
          placeholder="{{currentRate}}"
        />
        <text class="input-unit">{{currencies[toCurrencyIndex].code}}</text>
      </view>
      
      <view class="input-row">
        <text class="input-label">å–å‡ºç›®æ ‡</text>
        <input 
          class="target-input" 
          type="digit" 
          value="{{targetSellRate}}" 
          bindinput="onTargetSellInput"
          placeholder="{{currentRate}}"
        />
        <text class="input-unit">{{currencies[toCurrencyIndex].code}}</text>
      </view>
      
      <view class="quick-targets">
        <text class="quick-title">å¿«é€Ÿè®¾ç½®ï¼š</text>
        <view class="quick-buttons">
          <button class="quick-btn" bindtap="setQuickTarget" data-type="buy" data-percent="-2">ä½2%</button>
          <button class="quick-btn" bindtap="setQuickTarget" data-type="buy" data-percent="-5">ä½5%</button>
          <button class="quick-btn" bindtap="setQuickTarget" data-type="sell" data-percent="2">é«˜2%</button>
          <button class="quick-btn" bindtap="setQuickTarget" data-type="sell" data-percent="5">é«˜5%</button>
        </view>
      </view>
    </view>
  </view>

  <!-- é•¿æœŸç›‘æ§è®¾ç½® -->
  <view class="monitoring-section">
    <view class="section-header">
      <view class="header-icon">ğŸ“Š</view>
      <view class="header-content">
        <text class="section-title">é•¿æœŸç›‘æ§</text>
        <text class="section-desc">è¿½è¸ªæ±‡ç‡è¶‹åŠ¿ï¼Œè·å–å®šæœŸæŠ¥å‘Š</text>
      </view>
    </view>
    
    <view class="monitoring-options">
      <view class="option-item">
        <view class="option-left">
          <text class="option-title">ä»·æ ¼æé†’</text>
          <text class="option-desc">æ±‡ç‡è¾¾åˆ°ç›®æ ‡æ—¶æ¨é€é€šçŸ¥</text>
        </view>
        <switch 
          class="option-switch" 
          checked="{{isPriceAlertEnabled}}" 
          bindchange="onPriceAlertChange"
        />
      </view>
      
      <view class="option-item">
        <view class="option-left">
          <text class="option-title">æ¯æ—¥æŠ¥å‘Š</text>
          <text class="option-desc">æ¯å¤©æ±‡ç‡å˜åŒ–æ€»ç»“</text>
        </view>
        <switch 
          class="option-switch" 
          checked="{{isDailyReportEnabled}}" 
          bindchange="onDailyReportChange"
        />
      </view>
      
      <view class="option-item">
        <view class="option-left">
          <text class="option-title">è¶‹åŠ¿åˆ†æ</text>
          <text class="option-desc">æ¯å‘¨è¶‹åŠ¿å˜åŒ–åˆ†æ</text>
        </view>
        <switch 
          class="option-switch" 
          checked="{{isTrendAnalysisEnabled}}" 
          bindchange="onTrendAnalysisChange"
        />
      </view>
    </view>
    
    <view class="monitoring-stats">
      <text class="stats-title">ç›‘æ§ç»Ÿè®¡</text>
      <view class="stats-grid">
        <view class="stat-item">
          <text class="stat-value">{{monitoringDays}}</text>
          <text class="stat-label">ç›‘æ§å¤©æ•°</text>
        </view>
        <view class="stat-item">
          <text class="stat-value">{{alertCount}}</text>
          <text class="stat-label">è§¦å‘æé†’</text>
        </view>
        <view class="stat-item">
          <text class="stat-value">{{maxRate}}</text>
          <text class="stat-label">æœ€é«˜æ±‡ç‡</text>
        </view>
        <view class="stat-item">
          <text class="stat-value">{{minRate}}</text>
          <text class="stat-label">æœ€ä½æ±‡ç‡</text>
        </view>
      </view>
    </view>
  </view>

  <!-- å¸ç§è®¾ç½®åŒºåŸŸ -->
  <view class="currency-settings">
    <view class="section-header-simple">
      <text class="section-title">å¸ç§è®¾ç½®</text>
    </view>
    
    <view class="setting-section">
      <view class="section-header">
        <text class="section-title">æŒæœ‰å¸ç§</text>
        <text class="section-desc">é€‰æ‹©æ‚¨å½“å‰æŒæœ‰çš„è´§å¸</text>
      </view>
      <picker bindchange="onFromCurrencyChange" value="{{fromCurrencyIndex}}" range="{{currencies}}" range-key="name">
        <view class="currency-picker">
          <view class="picker-content">
            <text class="currency-flag">{{currencies[fromCurrencyIndex].flag}}</text>
            <view class="currency-details">
              <text class="currency-name">{{currencies[fromCurrencyIndex].name}}</text>
              <text class="currency-code">{{currencies[fromCurrencyIndex].code}}</text>
            </view>
          </view>
          <text class="picker-arrow">â€º</text>
        </view>
      </picker>
    </view>

    <view class="setting-section">
      <view class="section-header">
        <text class="section-title">ç›®æ ‡å¸ç§</text>
        <text class="section-desc">é€‰æ‹©æ‚¨è¦å…‘æ¢çš„ç›®æ ‡è´§å¸</text>
      </view>
      <picker bindchange="onToCurrencyChange" value="{{toCurrencyIndex}}" range="{{currencies}}" range-key="name">
        <view class="currency-picker">
          <view class="picker-content">
            <text class="currency-flag">{{currencies[toCurrencyIndex].flag}}</text>
            <view class="currency-details">
              <text class="currency-name">{{currencies[toCurrencyIndex].name}}</text>
              <text class="currency-code">{{currencies[toCurrencyIndex].code}}</text>
            </view>
          </view>
          <text class="picker-arrow">â€º</text>
        </view>
      </picker>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="swap-btn" bindtap="swapCurrencies">
      <text class="swap-icon">â‡„</text>
      <text>äº¤æ¢å¸ç§</text>
    </button>
    <button class="save-btn" bindtap="saveSettings">
      <text>ä¿å­˜è®¾ç½®</text>
    </button>
  </view>
</view> 